<?xml version="1.0" encoding="UTF-8"?>

<!-- Sql Mapper -->
<!DOCTYPE mapper  
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace는 Mapper interface의 패키지명과 인터페이스명과 동일하게 일치시킨다 -->
<mapper namespace="org.kosta.model.mapper.MemberMapper">
<!-- id는 Mapper interface의 추상메서드명과 일치시킨다 -->
	<insert id="registerMember" parameterType="memberVO">
		insert into a_member(member_id, member_email, name, password, address, phone_no, credit, bank_name, account_no, enabled) values(#{memberId},#{memberEmail},#{name},#{password},#{address},#{phoneNo},#{credit},#{bankName},#{accountNo},#{enabled})
	</insert>
	
	<update id="updateMember" parameterType="memberVO">
	update a_member set name=#{name} , address=#{address}, phone_no = #{phoneNo}, bank_name=#{bankName},account_no=#{accountNo}
		where member_id =#{memberId} and password=#{password}
	</update>
	
		<!-- Spring Security에서 권한 체크를 위해 사용 -->
	<select id="selectAuthorityByUsername"  resultType="authority">
		SELECT	name,authority
		FROM	authorities
		WHERE	name=#{name}
	</select>
	
	 	<!-- <select id="login" resultType="memberVO" parameterType="memberVO">
 		<include refid="selectMember"></include>
 		where id=#{id} and password=#{password}
 	</select> -->
 	
</mapper>